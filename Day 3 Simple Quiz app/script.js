// ðŸŒ GENERAL KNOWLEDGE QUESTIONS
const generalKnowledge = [
  {
    question: "What is the capital of Australia?",
    answers: ["Sydney", "Melbourne", "Canberra", "Brisbane"],
    correct: 2,
  },
  {
    question: "Which planet is closest to the Sun?",
    answers: ["Venus", "Mercury", "Mars", "Earth"],
    correct: 1,
  },
  {
    question: "Who wrote the novel '1984'?",
    answers: ["George Orwell", "Aldous Huxley", "Ray Bradbury", "H.G. Wells"],
    correct: 0,
  },
  {
    question: "What is the largest ocean on Earth?",
    answers: [
      "Atlantic Ocean",
      "Indian Ocean",
      "Arctic Ocean",
      "Pacific Ocean",
    ],
    correct: 3,
  },
  {
    question: "In which year did the Titanic sink?",
    answers: ["1910", "1912", "1914", "1916"],
    correct: 1,
  },
];

// ðŸ§ª SCIENCE QUESTIONS
const scienceQuestions = [
  {
    question: "What is the chemical symbol for water?",
    answers: ["H2O", "CO2", "NaCl", "O2"],
    correct: 0,
  },
  {
    question: "How many bones are there in an adult human body?",
    answers: ["196", "206", "216", "226"],
    correct: 1,
  },
  {
    question:
      "What gas do plants absorb from the atmosphere during photosynthesis?",
    answers: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
    correct: 2,
  },
  {
    question: "What is the speed of light in a vacuum?",
    answers: ["300,000 km/s", "150,000 km/s", "450,000 km/s", "600,000 km/s"],
    correct: 0,
  },
  {
    question: "Which organ in the human body produces insulin?",
    answers: ["Liver", "Kidney", "Pancreas", "Heart"],
    correct: 2,
  },
];

// ðŸ›ï¸ HISTORY QUESTIONS
const historyQuestions = [
  {
    question: "Who was the first person to walk on the moon?",
    answers: ["Buzz Aldrin", "Neil Armstrong", "John Glenn", "Alan Shepard"],
    correct: 1,
  },
  {
    question: "In which year did World War I begin?",
    answers: ["1912", "1914", "1916", "1918"],
    correct: 1,
  },
  {
    question: "Which ancient wonder of the world was located in Alexandria?",
    answers: [
      "Hanging Gardens",
      "Colossus of Rhodes",
      "Lighthouse of Alexandria",
      "Temple of Artemis",
    ],
    correct: 2,
  },
  {
    question: "Who was the first President of the United States?",
    answers: [
      "Thomas Jefferson",
      "John Adams",
      "George Washington",
      "Benjamin Franklin",
    ],
    correct: 2,
  },
  {
    question: "The Berlin Wall fell in which year?",
    answers: ["1987", "1989", "1991", "1993"],
    correct: 1,
  },
];

// ðŸŽ¨ ART & LITERATURE QUESTIONS
const artsLiterature = [
  {
    question: "Who painted 'The Starry Night'?",
    answers: [
      "Pablo Picasso",
      "Vincent van Gogh",
      "Leonardo da Vinci",
      "Claude Monet",
    ],
    correct: 1,
  },
  {
    question: "Which Shakespeare play features the character Hamlet?",
    answers: ["Macbeth", "Romeo and Juliet", "Othello", "Hamlet"],
    correct: 3,
  },
  {
    question: "Who wrote 'Pride and Prejudice'?",
    answers: [
      "Emily BrontÃ«",
      "Charlotte BrontÃ«",
      "Jane Austen",
      "George Eliot",
    ],
    correct: 2,
  },
  {
    question: "In which museum would you find the Mona Lisa?",
    answers: [
      "British Museum",
      "Louvre Museum",
      "Metropolitan Museum",
      "Uffizi Gallery",
    ],
    correct: 1,
  },
  {
    question: "Who composed 'The Four Seasons'?",
    answers: ["Bach", "Mozart", "Beethoven", "Vivaldi"],
    correct: 3,
  },
];

// ðŸƒâ€â™‚ï¸ SPORTS QUESTIONS
const sportsQuestions = [
  {
    question:
      "How many players are on a basketball team on the court at one time?",
    answers: ["4", "5", "6", "7"],
    correct: 1,
  },
  {
    question: "In which sport would you perform a slam dunk?",
    answers: ["Volleyball", "Tennis", "Basketball", "Baseball"],
    correct: 2,
  },
  {
    question: "How often are the Summer Olympic Games held?",
    answers: [
      "Every 2 years",
      "Every 3 years",
      "Every 4 years",
      "Every 5 years",
    ],
    correct: 2,
  },
  {
    question: "What is the maximum score possible in ten-pin bowling?",
    answers: ["250", "280", "300", "350"],
    correct: 2,
  },
  {
    question: "Which country has won the most FIFA World Cups?",
    answers: ["Germany", "Argentina", "Italy", "Brazil"],
    correct: 3,
  },
];

// ðŸ• FOOD & COOKING QUESTIONS
const foodQuestions = [
  {
    question: "Which spice is derived from the Crocus flower?",
    answers: ["Turmeric", "Saffron", "Paprika", "Cinnamon"],
    correct: 1,
  },
  {
    question: "What is the main ingredient in guacamole?",
    answers: ["Tomato", "Onion", "Avocado", "Lime"],
    correct: 2,
  },
  {
    question: "Which country is famous for inventing pizza?",
    answers: ["France", "Spain", "Greece", "Italy"],
    correct: 3,
  },
  {
    question: "What type of pastry is used to make profiteroles?",
    answers: [
      "Puff pastry",
      "Shortcrust pastry",
      "Choux pastry",
      "Filo pastry",
    ],
    correct: 2,
  },
  {
    question: "Which vitamin is produced when skin is exposed to sunlight?",
    answers: ["Vitamin A", "Vitamin C", "Vitamin D", "Vitamin E"],
    correct: 2,
  },
];

// ðŸ’» TECHNOLOGY QUESTIONS
const technologyQuestions = [
  {
    question: "What does 'WWW' stand for?",
    answers: [
      "World Wide Web",
      "World Web Wide",
      "Wide World Web",
      "Web World Wide",
    ],
    correct: 0,
  },
  {
    question: "Who founded Microsoft?",
    answers: ["Steve Jobs", "Bill Gates", "Mark Zuckerberg", "Larry Page"],
    correct: 1,
  },
  {
    question: "What does 'HTTP' stand for in web addresses?",
    answers: [
      "HyperText Transfer Protocol",
      "High Tech Transfer Protocol",
      "HyperText Transport Protocol",
      "High Transfer Text Protocol",
    ],
    correct: 0,
  },
  {
    question: "Which company developed the iPhone?",
    answers: ["Samsung", "Google", "Apple", "Microsoft"],
    correct: 2,
  },
  {
    question: "What does 'AI' stand for in technology?",
    answers: [
      "Automated Intelligence",
      "Artificial Intelligence",
      "Advanced Intelligence",
      "Applied Intelligence",
    ],
    correct: 1,
  },
];

// ðŸ”¢ MATHEMATICS QUESTIONS
const mathQuestions = [
  {
    question: "What is 15% of 200?",
    answers: ["25", "30", "35", "40"],
    correct: 1,
  },
  {
    question: "What is the value of Ï€ (pi) rounded to two decimal places?",
    answers: ["3.12", "3.14", "3.16", "3.18"],
    correct: 1,
  },
  {
    question: "What is the square root of 64?",
    answers: ["6", "7", "8", "9"],
    correct: 2,
  },
  {
    question: "In a right triangle, what is the longest side called?",
    answers: ["Base", "Height", "Hypotenuse", "Perpendicular"],
    correct: 2,
  },
  {
    question: "What is 7 Ã— 8?",
    answers: ["54", "56", "58", "60"],
    correct: 1,
  },
];

// ðŸŒ GEOGRAPHY QUESTIONS
const geographyQuestions = [
  {
    question: "Which is the longest river in the world?",
    answers: [
      "Amazon River",
      "Nile River",
      "Mississippi River",
      "Yangtze River",
    ],
    correct: 1,
  },
  {
    question: "How many continents are there?",
    answers: ["5", "6", "7", "8"],
    correct: 2,
  },
  {
    question: "Which country has the most time zones?",
    answers: ["Russia", "United States", "China", "Canada"],
    correct: 0,
  },
  {
    question: "What is the smallest country in the world?",
    answers: ["Monaco", "San Marino", "Vatican City", "Liechtenstein"],
    correct: 2,
  },
  {
    question: "Which desert is the largest in the world?",
    answers: ["Sahara Desert", "Gobi Desert", "Arabian Desert", "Antarctica"],
    correct: 3,
  },
];

// ðŸŽ¬ MOVIES & ENTERTAINMENT
const entertainmentQuestions = [
  {
    question: "Which movie won the Academy Award for Best Picture in 2020?",
    answers: ["1917", "Joker", "Parasite", "Once Upon a Time in Hollywood"],
    correct: 2,
  },
  {
    question: "Who directed the movie 'Jaws'?",
    answers: [
      "George Lucas",
      "Steven Spielberg",
      "Martin Scorsese",
      "Francis Ford Coppola",
    ],
    correct: 1,
  },
  {
    question: "In the Harry Potter series, what is Harry's middle name?",
    answers: ["John", "James", "Joseph", "Jeremy"],
    correct: 1,
  },
  {
    question: "Which animated movie features the song 'Let It Go'?",
    answers: ["Moana", "Tangled", "Frozen", "Brave"],
    correct: 2,
  },
  {
    question: "What is the highest-grossing film of all time (as of 2023)?",
    answers: [
      "Titanic",
      "Avatar",
      "Avengers: Endgame",
      "Star Wars: The Force Awakens",
    ],
    correct: 1,
  },
];

// ðŸŽµ MUSIC QUESTIONS
const musicQuestions = [
  {
    question: "Which instrument has 88 keys?",
    answers: ["Organ", "Piano", "Harpsichord", "Accordion"],
    correct: 1,
  },
  {
    question: "How many strings does a standard guitar have?",
    answers: ["4", "5", "6", "7"],
    correct: 2,
  },
  {
    question: "Which band released the album 'Abbey Road'?",
    answers: [
      "The Rolling Stones",
      "The Beatles",
      "Led Zeppelin",
      "Pink Floyd",
    ],
    correct: 1,
  },
  {
    question: "What does the musical term 'forte' mean?",
    answers: ["Soft", "Loud", "Fast", "Slow"],
    correct: 1,
  },
  {
    question: "Which composer wrote 'The Magic Flute'?",
    answers: ["Bach", "Beethoven", "Mozart", "Chopin"],
    correct: 2,
  },
];

// ===================================
// COMBINED COLLECTIONS
// ===================================

// Mixed difficulty quiz (Easy to Hard)
const mixedQuiz = [
  {
    question: "What color do you get when you mix red and white?",
    answers: ["Orange", "Pink", "Purple", "Yellow"],
    correct: 1,
  },
  {
    question: "How many days are there in a leap year?",
    answers: ["364", "365", "366", "367"],
    correct: 2,
  },
  {
    question: "What is the currency of Japan?",
    answers: ["Won", "Yuan", "Yen", "Ringgit"],
    correct: 2,
  },
  {
    question: "Which gas is most abundant in Earth's atmosphere?",
    answers: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Argon"],
    correct: 2,
  },
  {
    question: "What is the hardest natural substance on Earth?",
    answers: ["Gold", "Iron", "Diamond", "Platinum"],
    correct: 2,
  },
];

// Quick 5-question quiz
const quickQuiz = [
  {
    question: "How many sides does a triangle have?",
    answers: ["2", "3", "4", "5"],
    correct: 1,
  },
  {
    question: "What is the largest mammal?",
    answers: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
    correct: 1,
  },
  {
    question: "Which season comes after winter?",
    answers: ["Summer", "Fall", "Spring", "Autumn"],
    correct: 2,
  },
  {
    question: "How many minutes are in an hour?",
    answers: ["50", "60", "70", "80"],
    correct: 1,
  },
  {
    question: "What do bees make?",
    answers: ["Milk", "Honey", "Butter", "Cheese"],
    correct: 1,
  },
];

function getRandomQuestions(count = 10) {
  const allQuestions = [
    ...generalKnowledge,
    ...scienceQuestions,
    ...historyQuestions,
    ...artsLiterature,
    ...sportsQuestions,
    ...foodQuestions,
    ...technologyQuestions,
    ...mathQuestions,
    ...geographyQuestions,
    ...entertainmentQuestions,
    ...musicQuestions,
  ];

  const shuffled = allQuestions.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

// Dom
let content = document.querySelector(".content");
let question = document.querySelector(".question");
let opts = document.querySelector(".select");
let nxtBtn = document.querySelector(".next");
let scoreDisplay = document.querySelector(".score");

let userScore = 0;
let currentIDX = 0;
let QueData = getRandomQuestions(10);

showResults = () => {
  content.innerHTML = ``;
  content.innerHTML = `
  <div class="results">
    <h2 class="title">Quiz Completed!</h2>
    <p class="resPara">You scored: ${userScore} out of ${QueData.length}</p>
    <button class="restart">Restart Quiz</button>
  </div>
  `;

  const restartBtn = document.querySelector('.restart');
  restartBtn.classList.add('next');
  nxtBtn.classList.add('hidden');
  restartBtn.addEventListener('click', () => {
    // reset state and start again
    userScore = 0;
    currentIDX = 0;
    QueData = getRandomQuestions(10);
    showQue();
  });
};

let showQue = () => {
  const currentQue = QueData[currentIDX];
  const QueNo = currentIDX + 1;
  question.innerText = QueNo + ". " + currentQue.question;

  opts.innerHTML = "";
  currentQue.answers.forEach((ans, idx) => {
    const btn = document.createElement('button');
    btn.classList.add('opt');
    btn.innerText = ans;
    btn.dataset.index = idx;
    opts.appendChild(btn);

    btn.addEventListener('click', () => {
      // disable all options immediately
      opts.querySelectorAll('button').forEach((b) => (b.disabled = true));

      const chosen = Number(btn.dataset.index);
      if (chosen === currentQue.correct) {
        userScore++;
        btn.classList.add('correct');
      } else {
        btn.classList.add('wrong');
        const correctBtn = opts.querySelector(`button[data-index="${currentQue.correct}"]`);
        if (correctBtn) correctBtn.classList.add('correct');
      }

      // advance index and show Next button (original logic: add listener per question)
      currentIDX++;
      nxtBtn.classList.remove('hidden');
      nxtBtn.addEventListener('click', () => {
        nxtBtn.disabled = true; // prevent multiple clicks
        nxtBtn.classList.add('disabled');
        if (currentIDX < QueData.length) {
          showQue();
        } else {
          showResults();
        }
      });

      nxtBtn.disabled = false; // enable next button
      if (scoreDisplay) scoreDisplay.innerText = userScore;
    });
  });
};

showQue();
